/* ========================================
   lllibrary of Earth — i18n (EN / PT)
   ======================================== */

const translations = {
  en: {
    // Header
    "nav.home": "Home",
    "nav.directory": "Directory",
    "nav.add": "Add Property",

    // Hero
    "hero.tagline": "Your land, understood.",
    "hero.sub": "The bioregional platform that gives landowners a living digital profile of their property.",
    "hero.text": "Combine what you know about your land with publicly available data — soil, weather, fire risk, bioregion context — all in one place.",
    "hero.cta.add": "Add Your Property",
    "hero.cta.browse": "Browse Directory",

    // Features
    "features.label": "What is lllibrary?",
    "features.title": "A living profile for every piece of land",
    "features.desc": "lllibrary combines landowner knowledge with open data to create a Land Passport — a shareable, evolving portrait of any property.",
    "feat.onboard.title": "Guided Onboarding",
    "feat.onboard.desc": "A step-by-step intake walks you through contributing your property data — land use, soil, water, ecology, challenges and goals.",
    "feat.data.title": "Open Data Layer",
    "feat.data.desc": "For each property location, we auto-aggregate weather, soil type, bioregion classification, fire risk, elevation and more from public sources.",
    "feat.passport.title": "Land Passport",
    "feat.passport.desc": "Each property gets a single, shareable page that displays owner-contributed data alongside auto-aggregated open data and seasonal guidance.",

    // How it works
    "how.title": "How it works",
    "how.s1.title": "Share your land",
    "how.s1.desc": "Walk through our guided form to contribute what you know about your property.",
    "how.s2.title": "We enrich it",
    "how.s2.desc": "Open data about weather, soil, bioregion and fire risk is pulled in automatically.",
    "how.s3.title": "Get your Passport",
    "how.s3.desc": "Your property gets a Land Passport — a living profile you can share.",
    "how.s4.title": "Join the directory",
    "how.s4.desc": "Your land becomes part of a growing knowledge base of bioregional data.",

    // CTA
    "cta.title": "Ready to map your land?",
    "cta.desc": "No account needed. Contribute your property data and get your Land Passport in minutes.",
    "cta.add": "Add Your Property",
    "cta.browse": "Browse Directory",

    // Footer
    "footer.tagline": "Your land, understood.",

    // Onboarding steps
    "onboard.s1.title": "Property basics",
    "onboard.s1.desc": "Let's start with the name of your property and your contact details.",
    "onboard.s1.name": "Property name",
    "onboard.s1.name.hint": "e.g. Quinta da Serra, Smith Farm",
    "onboard.s1.owner": "Your name",
    "onboard.s1.email": "Email",
    "onboard.s1.email.hint": "Optional — only used if you want updates",

    "onboard.s2.title": "Location",
    "onboard.s2.desc": "Enter an address or place the pin on the map to mark your property location.",
    "onboard.s2.address": "Address or place name",
    "onboard.s2.address.hint": "Start typing and select from suggestions, or click the map",
    "onboard.s2.lat": "Latitude",
    "onboard.s2.lng": "Longitude",

    "onboard.s3.title": "Land details",
    "onboard.s3.desc": "Tell us about the size and current use of your land.",
    "onboard.s3.area": "Approximate area",
    "onboard.s3.unit": "Unit",
    "onboard.s3.hectares": "Hectares",
    "onboard.s3.acres": "Acres",
    "onboard.s3.sqm": "m\u00B2",
    "onboard.s3.landuse": "Current land use",
    "onboard.s3.lu.forest": "Forest",
    "onboard.s3.lu.pasture": "Pasture",
    "onboard.s3.lu.crops": "Crops",
    "onboard.s3.lu.mixed": "Mixed",
    "onboard.s3.lu.orchard": "Orchard",
    "onboard.s3.lu.vineyard": "Vineyard",
    "onboard.s3.lu.fallow": "Fallow",
    "onboard.s3.lu.residential": "Residential",
    "onboard.s3.lu.other": "Other",

    "onboard.s4.title": "Soil & water",
    "onboard.s4.desc": "What do you know about the soil and water on your property?",
    "onboard.s4.soil": "Soil type or description",
    "onboard.s4.soil.hint": "e.g. Clay, sandy loam, rocky. Or paste soil test results.",
    "onboard.s4.water": "Water sources",
    "onboard.s4.water.hint": "Wells, rivers, springs, rainfall patterns, irrigation systems...",

    "onboard.s5.title": "Ecology & fire",
    "onboard.s5.desc": "What lives on your land, and what's your fire situation?",
    "onboard.s5.flora": "Known flora",
    "onboard.s5.flora.hint": "Trees, plants, notable species...",
    "onboard.s5.fauna": "Known fauna",
    "onboard.s5.fauna.hint": "Animals, birds, insects you've observed...",
    "onboard.s5.fire": "Fire history & preparedness",
    "onboard.s5.fire.hint": "Past fires, firebreaks, cleared zones, water access for firefighting...",

    "onboard.s6.title": "Challenges & goals",
    "onboard.s6.desc": "What are you facing, and what do you hope for your land?",
    "onboard.s6.challenges": "Current challenges",
    "onboard.s6.ch.erosion": "Erosion",
    "onboard.s6.ch.drought": "Drought",
    "onboard.s6.ch.pests": "Pests",
    "onboard.s6.ch.fire": "Fire risk",
    "onboard.s6.ch.flooding": "Flooding",
    "onboard.s6.ch.soil": "Soil degradation",
    "onboard.s6.ch.invasive": "Invasive species",
    "onboard.s6.ch.access": "Access / infrastructure",
    "onboard.s6.goals": "Goals for the land",
    "onboard.s6.go.conservation": "Conservation",
    "onboard.s6.go.agriculture": "Agriculture",
    "onboard.s6.go.regen": "Regeneration",
    "onboard.s6.go.sale": "Sale",
    "onboard.s6.go.education": "Education",
    "onboard.s6.go.tourism": "Eco-tourism",
    "onboard.s6.go.residence": "Residence",
    "onboard.s6.go.other": "Other",

    "onboard.s7.title": "Review & submit",
    "onboard.s7.desc": "Check your details below. You can go back to edit any section.",

    "onboard.nav.back": "Back",
    "onboard.nav.next": "Continue",
    "onboard.nav.submit": "Create Land Passport",

    // Review labels
    "review.basics": "Property basics",
    "review.location": "Location",
    "review.land": "Land details",
    "review.soil_water": "Soil & water",
    "review.ecology": "Ecology & fire",
    "review.challenges_goals": "Challenges & goals",

    // Passport
    "passport.owner": "Owner",
    "passport.location": "Location",
    "passport.area": "Area",
    "passport.landuse": "Land use",
    "passport.contributed": "Owner-contributed data",
    "passport.auto": "Auto-aggregated open data",
    "passport.auto.banner": "This data was automatically gathered from public sources based on the property location.",
    "passport.soil": "Soil",
    "passport.water": "Water sources",
    "passport.flora": "Flora",
    "passport.fauna": "Fauna",
    "passport.fire": "Fire history & preparedness",
    "passport.challenges": "Challenges",
    "passport.goals": "Goals",
    "passport.weather": "Weather (annual averages)",
    "passport.temp": "Temperature",
    "passport.rain": "Rainfall",
    "passport.elevation": "Elevation",
    "passport.bioregion": "Bioregion",
    "passport.seasonal": "Seasonal guidance",
    "passport.share": "Share this Passport",
    "passport.notfound": "Property not found",
    "passport.notfound.desc": "This Land Passport doesn't exist or may have been removed.",

    // Directory
    "dir.title": "Land Passport Directory",
    "dir.desc": "Browse all contributed properties and their Land Passports.",
    "dir.search": "Search properties...",
    "dir.list": "List",
    "dir.map": "Map",
    "dir.empty.title": "No properties yet",
    "dir.empty.desc": "Be the first to create a Land Passport and start building the knowledge base.",
    "dir.empty.cta": "Add Your Property",
  },

  pt: {
    "nav.home": "In\u00EDcio",
    "nav.directory": "Diret\u00F3rio",
    "nav.add": "Adicionar Propriedade",

    "hero.tagline": "A sua terra, compreendida.",
    "hero.sub": "A plataforma bioregional que d\u00E1 aos propriet\u00E1rios um perfil digital vivo da sua propriedade.",
    "hero.text": "Combine o que sabe sobre a sua terra com dados p\u00FAblicos \u2014 solo, clima, risco de inc\u00EAndio, contexto bioregional \u2014 tudo num s\u00F3 lugar.",
    "hero.cta.add": "Adicionar Propriedade",
    "hero.cta.browse": "Ver Diret\u00F3rio",

    "features.label": "O que \u00E9 a lllibrary?",
    "features.title": "Um perfil vivo para cada peda\u00E7o de terra",
    "features.desc": "A lllibrary combina o conhecimento do propriet\u00E1rio com dados abertos para criar um Passaporte da Terra \u2014 um retrato partilh\u00E1vel e em evolu\u00E7\u00E3o de qualquer propriedade.",
    "feat.onboard.title": "Registo Guiado",
    "feat.onboard.desc": "Um processo passo a passo guia-o na contribui\u00E7\u00E3o dos dados da sua propriedade \u2014 uso do solo, \u00E1gua, ecologia, desafios e objetivos.",
    "feat.data.title": "Dados Abertos",
    "feat.data.desc": "Para cada localiza\u00E7\u00E3o, agregamos automaticamente clima, tipo de solo, classifica\u00E7\u00E3o bioregional, risco de inc\u00EAndio e muito mais.",
    "feat.passport.title": "Passaporte da Terra",
    "feat.passport.desc": "Cada propriedade recebe uma p\u00E1gina partilh\u00E1vel que mostra os dados contribu\u00EDdos junto com dados abertos e orienta\u00E7\u00E3o sazonal.",

    "how.title": "Como funciona",
    "how.s1.title": "Partilhe a sua terra",
    "how.s1.desc": "Preencha o nosso formul\u00E1rio guiado para contribuir o que sabe sobre a sua propriedade.",
    "how.s2.title": "N\u00F3s enriquecemos",
    "how.s2.desc": "Dados abertos sobre clima, solo, bioregi\u00E3o e risco de inc\u00EAndio s\u00E3o agregados automaticamente.",
    "how.s3.title": "Receba o Passaporte",
    "how.s3.desc": "A sua propriedade recebe um Passaporte da Terra \u2014 um perfil vivo que pode partilhar.",
    "how.s4.title": "Entre no diret\u00F3rio",
    "how.s4.desc": "A sua terra torna-se parte de uma base de conhecimento bioregional em crescimento.",

    "cta.title": "Pronto para mapear a sua terra?",
    "cta.desc": "Sem necessidade de conta. Contribua os dados da sua propriedade e receba o seu Passaporte da Terra em minutos.",
    "cta.add": "Adicionar Propriedade",
    "cta.browse": "Ver Diret\u00F3rio",

    "footer.tagline": "A sua terra, compreendida.",

    "onboard.s1.title": "Dados b\u00E1sicos",
    "onboard.s1.desc": "Comecemos pelo nome da propriedade e os seus dados de contacto.",
    "onboard.s1.name": "Nome da propriedade",
    "onboard.s1.name.hint": "ex: Quinta da Serra, Herdade do Monte",
    "onboard.s1.owner": "O seu nome",
    "onboard.s1.email": "Email",
    "onboard.s1.email.hint": "Opcional \u2014 apenas usado se quiser atualiza\u00E7\u00F5es",

    "onboard.s2.title": "Localiza\u00E7\u00E3o",
    "onboard.s2.desc": "Insira uma morada ou coloque o pin no mapa para marcar a localiza\u00E7\u00E3o da sua propriedade.",
    "onboard.s2.address": "Morada ou nome do lugar",
    "onboard.s2.address.hint": "Comece a escrever e selecione das sugest\u00F5es, ou clique no mapa",
    "onboard.s2.lat": "Latitude",
    "onboard.s2.lng": "Longitude",

    "onboard.s3.title": "Detalhes do terreno",
    "onboard.s3.desc": "Diga-nos sobre o tamanho e uso atual da sua terra.",
    "onboard.s3.area": "\u00C1rea aproximada",
    "onboard.s3.unit": "Unidade",
    "onboard.s3.hectares": "Hectares",
    "onboard.s3.acres": "Acres",
    "onboard.s3.sqm": "m\u00B2",
    "onboard.s3.landuse": "Uso atual do solo",
    "onboard.s3.lu.forest": "Floresta",
    "onboard.s3.lu.pasture": "Pastagem",
    "onboard.s3.lu.crops": "Culturas",
    "onboard.s3.lu.mixed": "Misto",
    "onboard.s3.lu.orchard": "Pomar",
    "onboard.s3.lu.vineyard": "Vinha",
    "onboard.s3.lu.fallow": "Pousio",
    "onboard.s3.lu.residential": "Residencial",
    "onboard.s3.lu.other": "Outro",

    "onboard.s4.title": "Solo e \u00E1gua",
    "onboard.s4.desc": "O que sabe sobre o solo e a \u00E1gua na sua propriedade?",
    "onboard.s4.soil": "Tipo de solo ou descri\u00E7\u00E3o",
    "onboard.s4.soil.hint": "ex: Argiloso, arenoso, rochoso. Ou cole resultados de an\u00E1lises.",
    "onboard.s4.water": "Fontes de \u00E1gua",
    "onboard.s4.water.hint": "Po\u00E7os, rios, nascentes, padr\u00F5es de chuva, irriga\u00E7\u00E3o...",

    "onboard.s5.title": "Ecologia e inc\u00EAndios",
    "onboard.s5.desc": "O que vive na sua terra e qual \u00E9 a situa\u00E7\u00E3o de inc\u00EAndios?",
    "onboard.s5.flora": "Flora conhecida",
    "onboard.s5.flora.hint": "\u00C1rvores, plantas, esp\u00E9cies not\u00E1veis...",
    "onboard.s5.fauna": "Fauna conhecida",
    "onboard.s5.fauna.hint": "Animais, p\u00E1ssaros, insetos que observou...",
    "onboard.s5.fire": "Hist\u00F3rico de inc\u00EAndios e prepara\u00E7\u00E3o",
    "onboard.s5.fire.hint": "Inc\u00EAndios passados, aceiros, zonas limpas, acesso a \u00E1gua para combate...",

    "onboard.s6.title": "Desafios e objetivos",
    "onboard.s6.desc": "O que enfrenta e o que espera para a sua terra?",
    "onboard.s6.challenges": "Desafios atuais",
    "onboard.s6.ch.erosion": "Eros\u00E3o",
    "onboard.s6.ch.drought": "Seca",
    "onboard.s6.ch.pests": "Pragas",
    "onboard.s6.ch.fire": "Risco de inc\u00EAndio",
    "onboard.s6.ch.flooding": "Inunda\u00E7\u00F5es",
    "onboard.s6.ch.soil": "Degrada\u00E7\u00E3o do solo",
    "onboard.s6.ch.invasive": "Esp\u00E9cies invasoras",
    "onboard.s6.ch.access": "Acesso / infraestrutura",
    "onboard.s6.goals": "Objetivos para a terra",
    "onboard.s6.go.conservation": "Conserva\u00E7\u00E3o",
    "onboard.s6.go.agriculture": "Agricultura",
    "onboard.s6.go.regen": "Regenera\u00E7\u00E3o",
    "onboard.s6.go.sale": "Venda",
    "onboard.s6.go.education": "Educa\u00E7\u00E3o",
    "onboard.s6.go.tourism": "Eco-turismo",
    "onboard.s6.go.residence": "Resid\u00EAncia",
    "onboard.s6.go.other": "Outro",

    "onboard.s7.title": "Rever e submeter",
    "onboard.s7.desc": "Verifique os seus dados abaixo. Pode voltar atr\u00E1s para editar qualquer se\u00E7\u00E3o.",

    "onboard.nav.back": "Voltar",
    "onboard.nav.next": "Continuar",
    "onboard.nav.submit": "Criar Passaporte da Terra",

    "review.basics": "Dados b\u00E1sicos",
    "review.location": "Localiza\u00E7\u00E3o",
    "review.land": "Detalhes do terreno",
    "review.soil_water": "Solo e \u00E1gua",
    "review.ecology": "Ecologia e inc\u00EAndios",
    "review.challenges_goals": "Desafios e objetivos",

    "passport.owner": "Propriet\u00E1rio",
    "passport.location": "Localiza\u00E7\u00E3o",
    "passport.area": "\u00C1rea",
    "passport.landuse": "Uso do solo",
    "passport.contributed": "Dados contribu\u00EDdos pelo propriet\u00E1rio",
    "passport.auto": "Dados abertos auto-agregados",
    "passport.auto.banner": "Estes dados foram recolhidos automaticamente de fontes p\u00FAblicas com base na localiza\u00E7\u00E3o da propriedade.",
    "passport.soil": "Solo",
    "passport.water": "Fontes de \u00E1gua",
    "passport.flora": "Flora",
    "passport.fauna": "Fauna",
    "passport.fire": "Hist\u00F3rico de inc\u00EAndios",
    "passport.challenges": "Desafios",
    "passport.goals": "Objetivos",
    "passport.weather": "Clima (m\u00E9dias anuais)",
    "passport.temp": "Temperatura",
    "passport.rain": "Precipita\u00E7\u00E3o",
    "passport.elevation": "Eleva\u00E7\u00E3o",
    "passport.bioregion": "Bioregi\u00E3o",
    "passport.seasonal": "Orienta\u00E7\u00E3o sazonal",
    "passport.share": "Partilhar este Passaporte",
    "passport.notfound": "Propriedade n\u00E3o encontrada",
    "passport.notfound.desc": "Este Passaporte da Terra n\u00E3o existe ou pode ter sido removido.",

    "dir.title": "Diret\u00F3rio de Passaportes da Terra",
    "dir.desc": "Explore todas as propriedades contribu\u00EDdas e os seus Passaportes da Terra.",
    "dir.search": "Pesquisar propriedades...",
    "dir.list": "Lista",
    "dir.map": "Mapa",
    "dir.empty.title": "Ainda sem propriedades",
    "dir.empty.desc": "Seja o primeiro a criar um Passaporte da Terra e a construir a base de conhecimento.",
    "dir.empty.cta": "Adicionar Propriedade",
  }
};

let currentLang = localStorage.getItem('lll-lang') || 'en';

function t(key) {
  return (translations[currentLang] && translations[currentLang][key]) || translations.en[key] || key;
}

function setLang(lang) {
  currentLang = lang;
  localStorage.setItem('lll-lang', lang);
  applyTranslations();
  document.querySelectorAll('.lang-toggle button').forEach(btn => {
    btn.classList.toggle('active', btn.dataset.lang === lang);
  });
  document.documentElement.lang = lang;
}

function applyTranslations() {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.dataset.i18n;
    const val = t(key);
    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
      el.placeholder = val;
    } else {
      el.textContent = val;
    }
  });
}

function initI18n() {
  document.querySelectorAll('.lang-toggle button').forEach(btn => {
    btn.addEventListener('click', () => setLang(btn.dataset.lang));
    btn.classList.toggle('active', btn.dataset.lang === currentLang);
  });
  applyTranslations();
}

document.addEventListener('DOMContentLoaded', initI18n);
